<app-logo class="logoComponent" />

<app-auth-welcome-text
  class="welcomeTextComponent"
  headerText="Create account"
  paragraphText="Please fill your information to get started"
/>

<form [formGroup]="this.registerForm" (ngSubmit)="onSubmit()">
  <div class="inputGroupContainer">
    <div class="inputFieldContainer">
      <div class="labelContainer">
        <label class="inputLabel" for="nameInput">Full name</label>

        @if (this.inputValidityCheck(this.registerForm.controls.name)) {
          @if (this.registerForm.controls.name.errors?.['required']) {
            <span class="labelErrorText">This field is required</span>
          } @else if (this.registerForm.controls.name.errors?.['minlength']) {
            <span class="labelErrorText">Name must be at least 3 characters long</span>
          }
        }
      </div>
      <input
        id="nameInput"
        type="text"
        placeholder="John Smith"
        formControlName="name"
        [class.invalidInputField]="this.inputValidityCheck(this.registerForm.controls.name)"
      />
    </div>
    <div class="inputFieldContainer">
      <div class="labelContainer">
        <label class="inputLabel" for="emailInput">Email address</label>

        @if (this.inputValidityCheck(this.registerForm.controls.email)) {
          @if (this.registerForm.controls.name.errors?.['required']) {
            <span class="labelErrorText">This field is required</span>
          } @else if (this.registerForm.controls.email.errors?.['email']) {
            <span class="labelErrorText">Correct email is required</span>
          }
        }
      </div>
      <input
        id="emailInput"
        type="text"
        placeholder="example@email.com"
        formControlName="email"
        [class.invalidInputField]="this.inputValidityCheck(this.registerForm.controls.email)"
      />
    </div>
    <div class="inputFieldContainer">
      <div class="labelContainer">
        <label class="inputLabel" for="passwordInput">Password</label>

        @if (this.inputValidityCheck(this.registerForm.controls.password)) {
          @if (this.registerForm.controls.password.errors?.['required']) {
            <span class="labelErrorText">This field is required</span>
          } @else if (this.registerForm.controls.password.errors?.['password']) {
            <span class="labelErrorText">Current password is weak</span>
          }
        }
      </div>
      <input
        id="passwordInput"
        type="text"
        placeholder="********"
        formControlName="password"
        [class.invalidInputField]="this.inputValidityCheck(this.registerForm.controls.password)"
      />
    </div>
  </div>

  <button [disabled]="this.registerForm.invalid">Register</button>
  <span class="registerLinkText"
    >Already have an Account? <a routerLink="/login">Sign in here.</a></span
  >
</form>
